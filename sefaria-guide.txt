Absolutely â€” here is your clean, final, authoritative MarehMakom Sefaria API Cheatsheet, containing all 9 endpoints you are officially keeping.

This is the definitive reference for your entire project.
Clear. Minimal. Practical. Python-focused.

â¸»

ğŸ“˜ MAREHMAKOM â€” FULL Sefaria API Cheatsheet (9 Endpoints)

(Python-only, no Node, no JS Linker)

â¸»

ğŸ”µ 1. FIND EXPLICIT REFS

POST /api/find-refs

Purpose: Detect explicit citations in your OCR text.

Example Input:

{
  "text": {
    "title": "",
    "body": "×›××• ×©×›×ª×‘ ×”×¨××‘\"× ×‘×”×œ×›×•×ª ×ª×©×•×‘×” ×‘:× ..."
  }
}

Output (simplified):

[
  {
    "raw": "×”×œ×›×•×ª ×ª×©×•×‘×” ×‘:×",
    "ref": "Mishneh Torah, Repentance 2:1",
    "startChar": 17,
    "endChar": 32
  }
]

Use in MM:
âœ” Extract clean refs from OCR Hebrew
âœ” Determine EXACT spans in the text
âœ” Primary tool for explicit citations

â¸»

ğŸ”µ 2. FIND IMPLICIT REFS

POST /api/search-wrapper

Purpose: When OCR didnâ€™t capture an explicit citation but user quoted text.

Example Input:

{
  "query": "×©×•×‘×” ×™×©×¨××œ",
  "type": "text",
  "size": 5
}

Output:

[
  {
    "ref": "Hosea 14:2",
    "he": "×©××•Ö¼×‘Ö¸×” ×™Ö´×©Ö°×‚×¨Ö¸×Öµ×œ",
    "score": 92.5
  }
]

Use in MM:
âœ” Match partial quotes
âœ” Solve fuzziness / handwritten citations
âœ” Detect implicit refs

â¸»

ğŸ”µ 3. GET TEXT FOR A REF

GET /api/v3/texts/{ref}

Purpose: Fetch pasuk/halacha text to verify matches & display in your UI.

Example URL:
/api/v3/texts/Mishneh%20Torah,%20Repentance%202:1

Output:

{
  "he": "×”Ö·×ªÖ¼Ö°×©××•Ö¼×‘Ö¸×”...",
  "en": "Repentance is...",
  "refs": [...],
  "context": {...}
}

Use in MM:
âœ” Show canonical text to user
âœ” Verify implicit ref accuracy
âœ” Save short text snippet with sheet

â¸»

ğŸ”µ 4. GET COMMENTARIES & CROSS-REFERENCES

GET /api/links/{ref}

Purpose: Show everything connected to that ref.

Output:

[
  { "type": "Commentary", "textReference": "Rashi on Teshuvah 2:1" },
  { "type": "Tosafot", "textReference": "Abarbanel on ..." }
]

Use in MM:
âœ” Build a â€œRelated Sourcesâ€ panel
âœ” Allow user to explore commentary on the ref

â¸»

ğŸ”µ 5. GET TOPICS FOR A REF

GET /api/ref-topic-links/{ref}

Purpose: Auto-tagging by Torah topics.

Output:

[
  {"slug": "teshuvah"},
  {"slug": "free-will"}
]

Use in MM:
âœ” Auto-tag each detected ref with relevant topics
âœ” Same tags power sheet-level filtering later

â¸»

ğŸ”µ 6. GET ALL TOPICS (Topic Browser)

GET /api/topics

Purpose: Big dictionary of ALL topics in Sefaria.

Output:

[
  {"slug": "teshuvah", "en": "Repentance", "he": "×ª×©×•×‘×”"},
  {"slug": "parasha-noach", "en": "Parashat Noach", "he": "×¤×¨×©×ª × ×—"},
  ...
]

Use in MM:
âœ” Build a complete â€œTopic Browserâ€
âœ” Support autocomplete (â€œAssign topics to sheetâ€)
âœ” Display human-friendly labels for slugs

â¸»

ğŸ”µ 7. GET LIBRARY TREE (FULL SEFARIA INDEX)

GET /api/index

Purpose: Full Sefaria table of contents.

Output:

[
  {
    "category": "Tanakh",
    "contents": [
      {"title": "Genesis", "heTitle": "×‘×¨××©×™×ª", ...},
      {"title": "Exodus", ...},
      ...
    ]
  },
  {
    "category": "Halakhah",
    "contents": [ ... ]
  }
]

Use in MM:
âœ” Build sidebar navigation
âœ” Validate book names from OCR
âœ” Determine top-level categories (Shas, Halakhah, etc.)

â¸»

ğŸ”µ 8. GET RAW BOOK METADATA

GET /api/v2/raw/index/{title}

Purpose: Get structure of a specific book.

Output:

{
  "schema": {
    "depth": 3,
    "sectionNames": ["Sefer", "Perek", "Halakha"]
  }
}

Use in MM:
âœ” Understand how to address â€œMishneh Torah â†’ Hilchot Teshuvah â†’ Perek 2 â†’ Halakha 1â€
âœ” Generate drill-down navigation
âœ” Validate refs properly

â¸»

ğŸ”µ 9. GET RELATED CONTENT

GET /api/related/{ref}

Purpose: Combined â€œrich contentâ€ for a ref.

Output:

{
  "links": [...],
  "topics": [...],
  "sheets": [...],
  "media": [...]
}

Use in MM:
âœ” Give users a deep-dive â€œRef Informationâ€ page
âœ” Useful enhancement but not mandatory

â¸»

â­ SUMMARY TABLE (Quick View)

Category	Endpoint	Purpose	Required?
Explicit refs	/api/find-refs	Detect citations in OCR	âœ” YES
Implicit refs	/api/search-wrapper	Match partial quoted text	âœ” YES
Text	/api/v3/texts/{ref}	Fetch Torah text	âœ” YES
Navigation	/api/index	Library table of contents	âœ” YES
Commentaries	/api/links/{ref}	Rashi, Ramban, etc.	âœ” Yes
Topics (auto)	/api/ref-topic-links/{ref}	Auto-tagging	âœ” Yes
Topics (browser)	/api/topics	Full topic dictionary	âœ” Yes (since you want it)
Metadata	/api/v2/raw/index/{title}	Book structure	âœ” Nice
Related content	/api/related/{ref}	Media, sheets, links	âœ” Nice

Everything above is pure HTTP. No Node. No JS. Python-only.

â¸»

If you want, next I can give you:

â†’ The FINAL MarehMakom processing pipeline (start-to-finish)

â†’ Or the database schema (tables + fields) optimized for all 9 APIs

â†’ Or Python wrappers for each API (clean, reusable, copy/paste ready)

Just tell me which direction you want.